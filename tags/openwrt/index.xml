<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Openwrt on Sparktour&#39;s Blog</title>
    <link>https://blog.sparktour.me/tags/openwrt/</link>
    <description>Recent content in Openwrt on Sparktour&#39;s Blog</description>
    <image>
      <title>Sparktour&#39;s Blog</title>
      <url>https://assets.sparktour.me/img/blog/misc/about-bg.jpg</url>
      <link>https://assets.sparktour.me/img/blog/misc/about-bg.jpg</link>
    </image>
    <generator>Hugo -- 0.149.0</generator>
    <language>zh</language>
    <lastBuildDate>Fri, 19 Apr 2024 09:59:44 +0800</lastBuildDate>
    <atom:link href="https://blog.sparktour.me/tags/openwrt/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>使用 Mikrotik RouterOS 和 Openwrt 在 ISP 获得的 IPv6 Prefix 上配置二级 PD </title>
      <link>https://blog.sparktour.me/posts/2023/10/18/mikrotik-routeros-openwrt-ipv6-prefix-delegation/</link>
      <pubDate>Wed, 18 Oct 2023 09:00:00 +0000</pubDate>
      <guid>https://blog.sparktour.me/posts/2023/10/18/mikrotik-routeros-openwrt-ipv6-prefix-delegation/</guid>
      <description>&lt;p&gt;在中国大陆，电信运营商常为使用PPPoE拨号的用户分配&lt;code&gt;/60&lt;/code&gt;的IPv6 prefix delegation。在本文中，笔者尝试了使用Mikrotik RouterOS获取了电信运营商分配的IPv6 PD，并为下级路由器和PPP接口上的设备继续分发了&lt;code&gt;/64&lt;/code&gt;的IPv6 PD。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Openwrt 和 MikroTik RouterOS 路由器通过 IPIP/EOIP 进行二层组网</title>
      <link>https://blog.sparktour.me/posts/2022/09/18/openwrt-mikrotik-layer2-network-with-ipip-and-eoip-tunnel/</link>
      <pubDate>Sun, 18 Sep 2022 12:00:00 +0000</pubDate>
      <guid>https://blog.sparktour.me/posts/2022/09/18/openwrt-mikrotik-layer2-network-with-ipip-and-eoip-tunnel/</guid>
      <description>&lt;p&gt;一直以来，本地路由器远程连接实验室的网络连接都是通过办公室ikuai软路由的L2TP连接实现的，但L2TP作为一个有状态协议，在遇到连接中断后恢复起来会比较麻烦，以及ikuai的L2TP server并不是很稳定，且没有办法分配IPv6。因此在近期，笔者将路由器连接实验室网络的组网方式改为了IPIP及EoIP的组合组网配置，并在很大程度上解决了上述问题。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Openwrt 和通用Linux设备通过 IPIP/GRETAP 进行二层组网</title>
      <link>https://blog.sparktour.me/posts/2022/09/18/openwrt-linux-layer2-network-with-ipip-and-gretap-tunnel/</link>
      <pubDate>Sun, 18 Sep 2022 12:00:00 +0000</pubDate>
      <guid>https://blog.sparktour.me/posts/2022/09/18/openwrt-linux-layer2-network-with-ipip-and-gretap-tunnel/</guid>
      <description>&lt;p&gt;在&lt;a href=&#34;https://blog.sparktour.me/posts/2022/09/18/openwrt-mikrotik-layer2-network-with-ipip-and-eoip-tunnel/&#34;&gt;前一篇文章中&lt;/a&gt;，笔者尝试了用Openwrt和RouterOS配合IPIP和EoIP隧道进行二层组网。但由于Openwrt的EoIP包是一个&lt;a href=&#34;https://forum.openwrt.org/t/please-add-2-new-packages-for-eoip/57113&#34;&gt;用户态的包&lt;/a&gt;，AX6s转发EoIP流量的性能并不是特别好（有线500Mbps，无线300Mbps），同时RouterOS也是一个收费系统，并不是所有人都会只为了组网来购买RouterOS的授权。鉴于此，笔者也在下文提供一种将IPoE替换为GRETAP协议进行二层组网的方案，此方案仅需一台运行于实验室内网的通用Linux设备即可（本文使用的是Debian11）。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;hr&gt;
&lt;h2 id=&#34;gretap&#34;&gt;GRETAP？&lt;/h2&gt;
&lt;p&gt;相比于GRE，GRETAP是类似EoIP的二层协议，因此我们同样可以将其用于二层组网。但很可惜&lt;a href=&#34;https://forum.mikrotik.com/viewtopic.php?t=160484&#34;&gt;RouterOS不支持GRETAP&lt;/a&gt;（怀疑是为了推广自家的EoIP协议），因此笔者只能使用另一台Linux设备和Openwrt路由器进行组网了。&lt;/p&gt;
&lt;h2 id=&#34;网络结构&#34;&gt;网络结构&lt;/h2&gt;
&lt;p&gt;此处依然简要列出一下代配置的网络结构：&lt;/p&gt;</description>
    </item>
    <item>
      <title>无需其他Openwrt路由器，使用任意带无线网的Linux机器解锁红米AX6路由器的SSH</title>
      <link>https://blog.sparktour.me/posts/2022/03/18/enable-redmi-ssh-without-openwrt/</link>
      <pubDate>Fri, 18 Mar 2022 14:00:00 +0000</pubDate>
      <guid>https://blog.sparktour.me/posts/2022/03/18/enable-redmi-ssh-without-openwrt/</guid>
      <description>&lt;p&gt;最近小米有品上再次开始售卖起了&lt;a href=&#34;https://www.xiaomiyoupin.com/detail?gid=134220&#34;&gt;红米AX6&lt;/a&gt;，由于这是小米出品的，能刷Openwrt的机器中较为便宜的一款，便购买了一台。根据网上的一些帖子，解锁AX6的SSH需要额外找一台运行Openwrt的路由器来跑脚本。不过经过研究，理论上&lt;strong&gt;任何能够开Wi-Fi热点（AP），且能够配置静态IP的设备&lt;/strong&gt;都能用于路由器的解锁。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;准备&#34;&gt;准备&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;一台能够开Wi-Fi热点（AP），且能够配置静态IP的设备。（笔者使用了&lt;strong&gt;安装Ubuntu的树莓派开热点&lt;/strong&gt;，理论上Linux虚拟机+能够开热点的无线网卡或者Windows电脑直接开热点都能达到类似的效果）。&lt;/li&gt;
&lt;li&gt;设备上需要能运行web服务器（笔者用的nginx），或者能运行python（能监听本地端口即可）&lt;/li&gt;
&lt;li&gt;未解锁的红米AX6路由器。&lt;/li&gt;
&lt;li&gt;（可选）随便找台路由器，让操作的电脑，AX6和树莓派处在同一内网内方便ssh操作。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure&gt;
    &lt;img loading=&#34;lazy&#34; src=&#34;https://assets.sparktour.me/img/blog/2022/enable-redmi-ssh-without-openwrt/topology.svg&#34; alt=&#34;接线拓扑图&#34;  /&gt;
    &lt;figcaption&gt;接线拓扑图&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
